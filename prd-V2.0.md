**企业大脑后台运营管理中心 PRD (Product Requirements Document) V2.0**

**一 修订记录**

| 版本号 | 修订日期   | 修订人   | 修订说明                                                                
| V1.0   | 2025-4-11  | AI助手   | 创建后台管理中心初始版本，涵盖用户、认证、订阅管理核心功能。                                                                                   |
| **V2.0** | **2025-4-12** | **AI助手** | **新增数据管理（含指标体系、数据模型）、知识管理（含RAG）、Agent管理、帮助中心模块；优化订阅计划管理与功能关联；明确了V2.0以优化和新增核心能力为重点。** |

**二 适用业务范围**

本PRD适用于“企业大脑”平台的后台运营管理中心。该系统旨在为平台内部运营、客服、数据分析师、知识管理员及管理人员提供必要的工具和界面，以有效管理平台用户、审核企业资质、管理服务套餐与订阅订单、**管理和治理平台核心数据资产（包括指标体系和数据模型）、维护企业知识库（支持RAG）、管理接入的Agent应用、** 监控系统状态，并进行必要的系统配置与权限控制，确保前台业务流程的顺利进行和平台整体的健康运营与智能化能力构建。

**三 术语**

*(保留V1.0术语，并新增)*

*   **后台运营管理中心 (Admin Console / Backend Management System):** 供平台内部员工使用的管理系统，用于管理平台数据和业务流程。
*   **管理员账号 (Admin Account):** 拥有访问后台运营管理中心权限的特定用户账号。
*   **角色与权限管理 (RBAC - Role-Based Access Control):** 基于角色来分配和管理管理员账号操作权限的机制。
*   **用户管理 (User Management):** 对前台注册用户账号进行查看、搜索、状态管理（启用/禁用）等操作的功能模块。
*   **企业认证审核 (Enterprise Verification Audit):** 对用户提交的企业认证申请及其证明材料进行人工或半自动审核，并决定通过或拒绝的过程。
*   **认证队列 (Verification Queue):** 待审核的企业认证申请列表。
*   **订阅计划管理 (Subscription Plan Management):** 对平台提供的服务套餐进行创建、编辑、定价、上下线、**关联平台功能模块**等管理操作的功能模块。
*   **订单管理 (Order Management):** 查看和管理用户订阅服务所产生的订单记录。
*   **订阅管理 (Subscription Management):** 查看用户当前有效的服务订阅信息，并可能进行手动调整。
*   **操作日志 (Audit Log):** 系统记录管理员在后台进行的各项关键操作的日志。
*   **【新增】数据管理平台 (Data Management Platform):** 用于管理企业数据接入、治理、存储、模型和指标体系的模块集群。
*   **【新增】标准指标体系 (Standard Metrics System):** 按行业和业务领域定义的标准化业务指标集合，包含指标定义、计算逻辑、维度等元数据。
*   **【新增】数据模型 (Data Model):** 对业务数据进行结构化组织的方式（如星型/雪花模型中的事实表、维度表），用于存储和分析。
*   **【新增】知识管理平台 (Knowledge Management Platform):** 用于管理企业结构化和非结构化知识，支持文档导入、向量化、知识图谱构建（可选）和 RAG 应用的模块。
*   **【新增】向量化处理 (Vectorization):** 将文本或其他数据转换为向量表示，以便进行语义相似度计算和检索。
*   **【新增】RAG (Retrieval-Augmented Generation):** 结合检索（从知识库）和生成（由大模型）的技术，以提供更准确、基于特定知识的回答。
*   **【新增】知识图谱 (Knowledge Graph):** 用图结构表示实体及其之间关系的一种知识表示方式。
*   **【新增】Agent 管理 (Agent Management):** 用于管理接入企业大脑平台的、可执行特定任务的智能体（Agent）的模块。
*   **【新增】Agent (Agent):** 能够理解用户意图、调用工具（如知识库、API、数据分析能力）并执行任务的自动化程序。
*   **【新增】帮助中心 (Help Center):** 提供用户自助服务的模块，包含文档、FAQ、教程等。

**四 整体业务流程图**

*(建议更新视觉流程图，补充以下流程)*

1.  管理员登录 (同V1.0)
2.  企业认证审核流程 (同V1.0)
3.  用户管理流程 (同V1.0)
4.  订阅与订单管理流程 (同V1.0)
5.  **【新增】数据治理与指标定义流程:**
    *   数据管理员/工程师访问“数据管理平台”。
    *   在“标准指标体系管理”中，按行业/领域定义或维护指标。
    *   在“数据模型管理”中，定义数据表结构，并将其字段关联到标准指标或维度。
    *   配置数据源，设置数据接入和清洗转换规则，确保数据按标准指标体系进行治理和存储。
6.  **【新增】知识库维护流程:**
    *   知识管理员访问“知识管理平台”。
    *   上传文档（Word, PDF等）或维护FAQ。
    *   系统自动（或按配置）对内容进行解析、切分、向量化。
    *   （可选）使用工具辅助构建或优化知识图谱。
    *   管理知识内容、版本、权限、敏感词。
7.  **【新增】Agent 配置与管理流程:**
    *   管理员访问“Agent管理平台”。
    *   配置Agent的基本信息、可调用的工具（如特定知识库、数据分析能力、API）。
    *   设置Agent的权限和触发规则。
    *   监控Agent的运行状态和效果。
8.  **【新增】帮助内容维护流程:**
    *   运营人员/文档工程师访问“帮助中心”后台管理功能。
    *   创建、编辑、分类、发布帮助文档或FAQ。

**五 需求详细说明**

*(保留V1.0的 5.1 - 5.6 模块，根据需要可微调，重点是新增和优化的模块)*

**5.1 管理员仪表盘 (Module-Admin-Dashboard)** (同V1.0，可考虑增加指标体系、知识库、Agent相关的概览数据)

**5.2 用户管理 (Module-Admin-UserManagement)** (同V1.0)

**5.3 企业认证管理 (Module-Admin-VerificationManagement)** (同V1.0)

**5.4 订阅计划管理 (Module-Admin-PlanManagement) (优化)**

5.4.1 需求描述 (同V1.0，补充关联功能)
提供创建、编辑、查看和管理平台所有服务套餐（订阅计划）的功能，定义各套餐的名称、描述、包含功能、资源限制、价格、试用规则等，**并将套餐与企业大脑服务平台的具体功能模块进行明确关联。**

5.4.2 业务流程 (同V1.0)

5.4.3 页面原型
*   套餐列表 (同V1.0)
*   套餐编辑/新增页：
    *   (同V1.0字段) 输入框/选择器：套餐名称、套餐描述、类型、价格、有效期、状态。
    *   **【优化】功能配置区域：以列表或树状结构展示企业大脑平台的所有可授权功能模块（如：基础数据分析、高级数据分析、特定行业Agent模板、知识库容量级别、API调用次数等），允许管理员勾选或配置该套餐具体包含哪些功能及其额度/限制。**
    *   资源限制配置区域 (同V1.0): 用户数限制、存储空间限制等（部分可能已在功能配置中体现）。
    *   “保存”按钮。

5.4.4 业务规则
*   (同V1.0规则)
*   **【新增】必须能够清晰地将每个订阅计划与平台提供的具体功能模块或服务能力进行绑定。**
*   **【新增】前台用户订阅某套餐后，其可使用的平台功能应严格受此关联关系限制。**
*   修改已上线套餐的功能配置时，需明确是对新订阅用户生效还是影响存量用户，并有相应提示或处理机制。

**5.5 订单与订阅管理 (Module-Admin-OrderSubscription)** (同V1.0)

**5.6 管理员角色与权限管理 (Module-Admin-RBAC)** (同V1.0，需将新增模块纳入权限控制范围)
*   5.6.3 页面原型 -> 权限编辑界面：需包含新增的“数据管理平台”、“知识管理平台”、“Agent管理平台”、“帮助中心管理”等模块及其子功能的权限控制点。
*   5.6.4 业务规则 -> 权限控制应覆盖到后台所有功能模块...（确保包含V2.0新增模块）。

---

**【新增模块】**

**5.7 数据管理平台 (Module-Admin-DataManagement)**

5.7.1 需求描述
提供企业数据的全生命周期管理能力，旨在构建统一、高质量、安全可信的数据基础（数据中台）。核心是建立和维护一套按【行业+业务领域】区分的【标准指标体系】，管理与之关联的【数据模型】，并提供数据接入、治理、存储、质量监控、血缘追踪等功能。

5.7.2 整体业务流程 (参考第四部分新增流程5)

5.7.3 核心子模块与页面原型

**5.7.3.1 标准指标体系管理 (SubModule-MetricsSystem)**

- ... (已有描述) ...
- **新增/编辑指标 - 所需填写字段:**
    1. **指标名称**
        - **描述:** 简洁、唯一且具代表性的指标名称，准确反映衡量对象或概念。（例如：“库存周转率”、“月活跃用户数”、“毛利率”）。
        - **字段类型:** 文本输入框
        - **校验规则:** 必填，在所选行业/业务域下唯一。可考虑制定命名规范。
        - **对应原始需求:** 指标名称
    2. **指标ID / 编码**
        - **描述:** 指标的唯一系统标识符，用于技术引用（API、配置）。可自动生成或按规则手动输入。
        - **字段类型:** 文本输入框（若自动生成，创建后可能只读）
        - **校验规则:** 必填，系统内全局唯一或唯一。格式校验（例如：无空格、特定前缀）。
        - **对应原始需求:** (隐含对唯一ID的需求)
    3. **行业 / 业务域**
        - **描述:** 指标所属的主要行业和具体业务领域（例如：行业：“制造业”，领域：“供应链”；行业：“零售业”，领域：“销售”）。用于组织和筛选。
        - **字段类型:** 级联下拉框 / 树状选择器（关联预定义的行业/领域分类体系）
        - **校验规则:** 必填。
        - **对应原始需求:** 按行业/领域组织的要求。
    4. **指标类型 (分类)**
        - **描述:** 根据指标的业务目的进行分类（例如：“盈利能力”、“运营效率”、“偿债能力”、“增长性”、“用户粘性”）。便于归入分析框架。
        - **字段类型:** 下拉选择框 / 多选标签（来自可配置列表）
        - **校验规则:** 必填（至少选择一项）。
        - **对应原始需求:** 指标类型
    5. **业务定义**
        - **描述:** 对指标衡量内容、业务含义和上下文的详细、精确解释。（例如，对于“库存周转率”：“衡量在给定时期内库存售出或使用的速度，反映库存流动性及资金占用效率。”）
        - **字段类型:** 富文本编辑器
        - **校验规则:** 必填。
        - **对应原始需求:** 指标定义, 业务定义 (原子指标)
    6. **指标结构类型**
        - **描述:** 指明指标是原子指标、复合指标还是派生指标。此选择将决定后续哪些计算/构成相关字段是必需的。
        - **字段类型:** 下拉选择框
        - **校验规则:** 必填。
        - **对应原始需求:** 从原子/复合/派生定义中隐含的结构。
    7. **计算公式 / 逻辑**
        - **描述:** 计算指标的明确数学公式或逻辑步骤。其复杂度和输入方式将根据指标结构类型而变化。
        - **字段类型:**
            - **原子指标:** 可能涉及简单聚合（例如 SUM(销售额)）或直接映射。公式编辑器 / 结构化输入。
            - **复合指标:** 公式编辑器，允许使用选定的构成指标作为变量（例如 指标[销售收入] / 指标[总资产]）。必填。
            - **派生指标:** 公式编辑器，支持比较和函数（例如 (指标[本期销售额] - 指标[上期销售额]) / 指标[上期销售额] * 100）。必填。
        - **校验规则:** 必填（除了一些非常简单的直接映射原子指标外）。语法校验。确保引用的构成/基础指标存在。
        - **对应原始需求:** 计算公式, 计算逻辑 (复合指标), 派生规则 (派生指标)
    8. **计量单位**
        - **描述:** 指标值的表达单位（例如：“元”、“%”、“次/年”、“天”、“个”、“人”）。
        - **字段类型:** 下拉选择框（来自可配置列表） / 文本输入框
        - **校验规则:** 必填。
        - **对应原始需求:** 计量单位
    9. **数据类型 (结果)**
        - **描述:** 计算得出的指标值的数据类型（例如：小数、整数、百分比、货币）。
        - **字段类型:** 下拉选择框
        - **校验规则:** 必填。
        - **对应原始需求:** (隐含对技术定义的需求)
    
    ---
    
    **依赖于 指标结构类型 的字段:**
    
    1. **对于 原子 指标:**
        - **数据来源规范**
            - **描述:** 精确定义此原子指标的原始数据来源。可以是直接链接到管理的数据模型或描述性说明。
            - **字段类型:** 选项：
                - 链接到 数据模型 (5.7.3.2)：选择具体的表和字段。（推荐）
                - 链接到 数据采集治理模型 输出 (5.7.4)。
                - 手动描述：文本区域（系统名称、表/API、字段名）。
            - **校验规则:** 原子指标必填。
            - **对应原始需求:** 数据来源
        - **聚合函数 (若适用)**
            - **描述:** 应用于源数据的聚合方法（例如：SUM, COUNT, AVG, MAX, MIN, COUNT DISTINCT - 求和、计数、平均、最大、最小、去重计数）。
            - **字段类型:** 下拉选择框
            - **校验规则:** 若计算涉及聚合则必填。
            - **对应原始需求:** 计算中隐含，此处明确化。
        - **统计粒度 / 维度**
            - **描述:** 此原子指标能够细分的最低层级和维度（例如：按 订单ID、客户ID、日期、产品类别）。链接到受管理的维度列表。
            - **字段类型:** 多选标签输入 / 树状选择器（链接到可能在数据模型管理或专门维度模块中定义的维度）。
            - **校验规则:** 对于有意义的原子指标是必填的。
            - **对应原始需求:** 统计粒度
    2. **对于 复合 指标:**
        - **构成指标**
            - **描述:** 选择构成此指标的现有原子或复合指标。
            - **字段类型:** 可搜索多选输入框（搜索系统内现有指标）。
            - **校验规则:** 必填，必须选择至少两个构成指标。
            - **对应原始需求:** 组成成分
        - **数据源整合说明 (可选)**
            - **描述:** 解释如何对齐来自不同构成指标源的数据（例如：时间同步、粒度匹配）。
            - **字段类型:** 文本区域
            - **对应原始需求:** 数据来源整合说明
    3. **对于 派生 指标:**
        - **基础指标**
            - **描述:** 选择派生此指标所依据的现有原子或复合指标（通常是同一指标在不同时间或条件下的度量）。
            - **字段类型:** 可搜索单选/多选输入框。
            - **校验规则:** 必填，必须选择至少一个基础指标。
            - **对应原始需求:** 基础指标
        - **派生参数 (时间窗口 / 条件)**
            - **描述:** 定义派生规则中使用的具体时间比较（例如：环比、同比、与目标比）或条件。
            - **字段类型:** 结构化配置（例如：比较类型的下拉框、周期偏移的输入框、条件的过滤器构建器）。
            - **校验规则:** 如果派生规则涉及时间位移或条件，则必填。
            - **对应原始需求:** 时间窗口或条件限制, 与基础指标的关联关系说明 (部分由规则覆盖)
    
    ---
    
    **可选 / 上下文字段:**
    
    1. **默认时间周期**
        - **描述:** 此指标通常计算或分析的时间范围（例如：“月度”、“季度”、“每日”）。除非在默认视图中使用，否则为信息性字段。
        - **字段类型:** 下拉选择框
        - **对应原始需求:** 时间周期
    2. **目标值配置 (考虑在别处管理)**
        - **描述:** 定义目标值或基准值。可能比较复杂（例如：随时间变化、按维度区分的目标）。*建议：在单独的目标设定/绩效模块中管理与指标关联的目标，而不是直接在此处管理。* 如果包含在此处，保持简单（例如：单个默认目标）。
        - **字段类型:** 数字输入框 / 链接到目标设定模块。
        - **对应原始需求:** 目标值
    3. **权重 (考虑在别处管理)**
        - **描述:** 在特定上下文中的相对重要性（例如：平衡计分卡）。*建议：在权重使用的上下文中管理（例如：仪表盘配置），而不是在核心指标定义中。*
        - **字段类型:** 数字输入框（例如：1-5 或 百分比）。
        - **对应原始需求:** 指标权重
    4. **解释说明**
        - **描述:** 额外的背景信息、注意事项、计算细节、特殊情况或解读指南。
        - **字段类型:** 富文本编辑器
        - **对应原始需求:** 解释说明
    5. **状态**
        - **描述:** 指标定义的当前状态（例如：“草稿”、“已激活”、“已弃用”）。控制其在平台中的可见性和使用。
        - **字段类型:** 下拉选择框
        - **校验规则:** 必填。
    6. **负责人 / 负责团队**
        - **描述:** 对此指标定义和维护负责的个人或团队。
        - **字段类型:** 用户/团队选择器（来自RBAC模块）
- **指标定义业务规则:**
    - 指标名称在其所属行业/业务域下必须唯一。
    - 指标ID必须系统全局唯一。
    - 指标必须属于一个行业/业务域，并至少有一个类型分类。
    - 业务定义和指标结构类型是强制性的。
    - 计算公式/逻辑是强制性的（直接映射的原子指标除外）。
    - 针对所选结构类型特定的字段（数据来源、构成指标、基础指标）是强制性的。
    - 引用的构成/基础指标必须是“已激活”状态。
    - 为原子指标选择的维度应来自受管理的列表。
    - 状态决定指标是否可在模型、仪表盘等中使用（需要“已激活”状态）。
    - 应通过版本控制跟踪指标定义随时间的变化。

*   **5.7.3.2 数据模型管理与关联 (SubModule-DataModel)**
    *   **需求描述:** 管理平台内的数据模型（如事实表、维度表定义），并将这些模型与【标准指标体系】进行关联。
    *   **业务流程:** (参考补充文档 5.5.3.6 业务流程)
    *   **页面原型:**
        *   数据模型列表界面：展示已定义的模型（如表），可按行业/领域分类。
        *   数据模型编辑器界面：定义或查看表的结构（字段名、类型、描述）。
        *   模型与指标体系关联界面：提供可视化或表格式界面，将模型中的字段映射关联到标准指标体系中的指标或维度。
    *   **业务规则:** (参考补充文档 5.5.3.6 业务规则)

*   **5.7.3.3 其他数据管理功能 (页面原型参考补充文档 5.5.3.3)**
    *   数据源管理界面
    *   数据采集与治理规则配置界面（需关联指标体系）
    *   数据质量规则定义与监控界面
    *   数据血缘追踪可视化界面（需追溯到标准指标）
    *   元数据查询界面（支持按标准指标查询）
    *   (根据需要逐步实现其他功能)

**5.7.4 数据采集与治理模型配置 (SubModule-DataCollectionGovernanceConfig)**

**5.7.4.1 需求描述**

提供一个可视化的后台配置界面，允许管理员（如数据工程师、业务分析师）定义、创建和管理端到端的数据采集与治理模型。这些模型封装了从指定数据源获取原始数据，经过一系列清洗、转换、计算规则，最终生成目标数据（如特定指标、中间表、结果表），并包含相应的质量监控和异常处理机制。此功能旨在将复杂的数据处理逻辑规范化、可复用化，并确保数据质量。以“财务成本核算模型”为例，管理员可以通过此功能配置完成该模型所需的全部处理步骤和规则。

**5.7.4.2 业务流程 (管理员配置模型)**

1. **导航:** 管理员进入“数据管理平台” -> “数据采集与治理模型”。
2. **创建/选择模型:**
    - 点击“新增模型”按钮。
    - 或在模型列表中选择一个现有模型进行“编辑”、“查看”或“复制”。
3. **定义模型基本信息:**
    - 输入模型名称（例如：“财务成本核算模型”）。
    - 选择所属业务域（例如：“财务” -> “成本管理”）。
    - 填写模型描述（说明模型的目标和范围）。
    - （系统自动生成/管理版本号）。
4. **配置数据节点与处理流程:** (核心配置区，可能采用画布式或步骤式配置界面)
    - **a. 添加数据源节点:**
        - 从已配置的“数据源管理”列表中选择一个或多个数据源（如 ERP 数据库、MES API、上传的 Excel 文件模板）。
        - 指定要从此数据源采集的具体数据对象（如表、视图、API 端点、文件路径/Sheet）。
        - 配置采集方式（如：全量同步、增量同步、API 调用、定时拉取）。
        - 配置采集频率（如：每日凌晨、每小时、实时触发）。
        - 定义源数据筛选条件（可选，如：只取特定时间范围或状态的数据）。
    - **b. 添加数据处理节点 (可串联或并联):**
        - **清洗节点:** 定义数据清洗规则（去重、空值处理、格式标准化、异常值处理）。
        - **转换节点:** 定义数据转换规则（字段映射、数据类型转换、单位换算、字典值转义、计算字段、行转列/列转行）。
        - **关联/合并节点:** 定义来自不同数据源或处理步骤的数据如何关联（Join）、合并（Union）。
        - **计算/聚合节点:** 定义复杂的业务计算逻辑（如成本核算公式）、聚合操作（分组统计 Sum, Avg, Count 等）。**（此节点将重点实现“财务数据模型示例”中的计算逻辑）**
        - **质量校验节点:** 定义数据质量规则（基于 5.7.3.3 数据质量规则定义），设置校验失败的处理方式（告警、阻断、标记）。
    - **c. 添加目标存储节点:**
        - 指定处理结果的存储位置（如：数据仓库中的某个目标表、生成文件等）。
        - 配置数据写入方式（覆盖、追加）。
        - （可选）将输出结果字段关联到【标准指标体系】(5.7.3.1) 或【数据模型】(5.7.3.2)。
5. **配置异常处理:** 定义模型在执行过程中遇到错误（如源连接失败、数据校验失败、计算错误）时的处理策略（如：重试、发送通知、记录日志、跳过错误记录）。
6. **配置执行计划:** 设置模型的调度执行规则（如：依赖上游模型完成、定时执行、手动触发）。
7. **保存与激活:** 保存模型配置，并可将其设置为“激活”状态，纳入调度执行。

**5.7.4.3 页面原型 (核心配置界面)**

- **模型列表页:**
    - 表格展示：模型名称、业务域、状态（草稿/激活/停用）、最新版本、最后修改时间、负责人。
    - 操作：新增、编辑、查看、复制、删除、激活/停用、查看执行历史。
- **模型配置页 (可能是多Tab页或可视化画布):**
    - **Tab 1: 基本信息:** (对应流程 3)
        - 表单包含：模型名称、业务域（级联选择）、描述、版本信息（只读）。
    - **Tab 2: 流程设计/节点配置:** (对应流程 4，核心)
        - **可视化画布 (推荐):** 左侧提供节点工具箱（数据源、清洗、转换、关联、计算、质检、目标存储等），用户可拖拽节点到画布，并用线条连接表示数据流向。点击节点可弹出配置面板。
        - **或 步骤式配置:** 按顺序添加步骤，每个步骤选择节点类型并进行详细配置。
        - **节点配置面板 (以“计算节点”为例，参考财务模型示例):**
            - **节点名称:** (例如：“直接材料成本计算”)
            - **输入数据:** (选择上游节点的输出作为输入)
            - **输出字段定义:** (定义此节点计算后输出的字段列表，如：“标准用量”、“实际消耗量”、“材料价格差异”)
            - **计算规则配置区 (核心):**
                - **方式一 (公式编辑):** 提供公式编辑器，允许用户使用输入字段、数学运算符、逻辑运算符、内置函数（SUM, AVG, IF, LOOKUP等）来编写计算逻辑。
                    - 输出字段['标准用量'] = 输入字段['BOM用量'] * 输入字段['计划产量'] * (1 + 输入字段['损耗率'])
                    - 输出字段['价格差异'] = (输入字段['实际采购价'] - 输入字段['标准价']) * 输入字段['实际消耗量']
                - **方式二 (结构化规则配置 - 针对复杂逻辑):** 针对财务示例中的每个子项，提供结构化配置界面：
                    - **子项名称:** (例如：“1.1 标准用量 (BOM)”)
                    - **计算规则/公式:** (同上，公式输入) BOM单位用量 * 工单计划产量 * (1 + 允许损耗率)
                    - **数据来源及映射逻辑:** (详细描述或通过界面选择输入字段及来源节点) “输入字段[BOM单位用量] 来自 ERP数据源节点.BOM表.单位用量 (条件: BOM版本=最新生效) ...”
                    - **异常处理/特殊场景:** (文本描述或规则配置) “IF BOM版本冲突 THEN 使用最新生效版本”
            - **预览/测试按钮:** (基于示例数据预览计算结果)
    - **Tab 3: 异常处理:** (对应流程 5)
        - 配置全局或节点级的错误处理规则。
    - **Tab 4: 执行计划:** (对应流程 6)
        - 配置调度信息。
    - **操作按钮:** 保存、校验模型、激活/停用。

**5.7.4.4 字段说明 (以“计算节点”的结构化配置为例)**

- **模型基本信息:**
    - Model_Name: 模型名称 (必填, 字符串)
    - Business_Domain: 业务域 (必填, 级联选择)
    - Description: 模型描述 (可选, 文本)
    - Version: 版本号 (系统生成)
    - Status: 状态 (草稿/激活/停用)
- **计算节点配置:**
    - Node_Name: 节点名称 (必填, 字符串)
    - Input_Data_Sources: 输入数据来源 (选择上游节点)
    - **输出字段列表 (Output_Fields_Definition):** (可动态增删)
        - Field_Name: 输出字段名 (字符串)
        - Data_Type: 数据类型 (选择)
        - Description: 字段描述 (可选, 文本)
    - **计算规则配置 (Calculation_Rules):** (列表，每个元素代表一个计算子项或一个输出字段的计算逻辑)
        - Sub_Item_Name / Output_Field_Target: 子项名称或目标输出字段 (字符串/选择)
        - Calculation_Formula / Logic: 计算公式或逻辑描述 (富文本/公式编辑器/脚本)
        - Data_Source_Mapping_Logic: 数据来源及映射逻辑描述 (富文本/结构化映射配置)
            - Input_Variable: 公式中使用的输入变量名
            - Source_Node: 来源节点
            - Source_Field: 来源字段
            - Lookup_Condition: (可选) 查找/关联条件
        - Exception_Handling_Rules: 异常处理/特殊场景规则描述 (富文本/规则配置)
            - Condition: 触发条件
            - Action: 处理动作
- **其他节点 (清洗、转换、质检等) 也需要类似的详细字段定义。**

**5.7.4.5 业务规则**

- 模型名称在同一业务域下需唯一。
- 流程设计需符合数据流逻辑，不能有循环依赖（除非特殊设计）。
- 节点配置时，输入必须来自已定义的上游节点或数据源。
- 计算公式/规则需要进行语法校验。
- 数据来源映射必须明确到具体的来源字段。
- 目标存储配置需指定有效的目标位置和写入方式。
- 模型激活前必须通过完整性校验。
- 已激活的模型修改后需要重新发布/激活新版本，并考虑对下游依赖的影响。
- 模型的执行日志需要记录详细的步骤、输入输出数据量、耗时、成功/失败状态及错误信息。
- 权限控制：不同角色的管理员可能只有查看、编辑或激活模型的权限。

**5.8 知识管理平台 (Module-Admin-KnowledgeManagement)**

5.8.1 需求描述
提供对企业结构化和非结构化知识进行全生命周期管理的功能。核心能力包括支持用户导入多种格式文件，进行自动化【向量化处理】以支持大模型检索（RAG），并可选地辅助构建【知识图谱】，同时提供知识的采集、处理、存储、组织和应用支持（如供Agent调用）。

5.8.2 业务流程 (参考补充文档 5.5.1.2 业务流程)

5.8.3 页面原型 (参考补充文档 5.5.1.3 页面原型)
*   知识库概览/仪表盘：展示知识库数量、文档数量、向量化状态、待处理任务等。
*   文档管理界面：
    *   支持文件夹/标签分类管理。
    *   文件上传入口（支持拖拽、批量上传，显示支持格式）。
    *   文件列表（名称、格式、大小、上传时间、处理状态：待处理/解析中/向量化中/完成/失败、版本号）。
    *   操作：下载、删除、查看详情、重新处理、版本管理。
*   FAQ管理界面：列表展示问答对，支持新增、编辑、删除、导入导出。
*   知识源管理界面 (可选)：配置外部知识源（如网站爬取、数据库连接）的接入规则。
*   文档处理与向量化配置/监控界面：
    *   配置默认的解析方式（如OCR开关）、切块大小、Embedding模型。
    *   展示处理任务队列及各文档的处理进度和状态，提供错误日志查看。
*   知识图谱管理界面 (可选)：可视化展示图谱，提供节点/关系编辑、查询功能。
*   标注中心界面 (可选)：用于对文档内容进行实体、关系或其他标签的标注。
*   敏感词管理界面：维护敏感词库，配置过滤规则。
*   知识库权限管理界面：设置不同用户/角色对知识库的访问和管理权限。

5.8.4 业务规则 (参考补充文档 5.5.1.4 业务规则)
*   必须支持主流文档格式导入（Word, PDF, Excel, Txt），推荐支持图片（OCR）。
*   必须提供文档自动向量化处理能力，相关参数（模型、切块）需可配置。
*   必须支持创建多个知识库（如按部门、按项目、私有库、公共库）。
*   需明确Agent调用知识库的机制（可指定一个或多个库，区分用户私有库和平台行业库）。
*   需提供高效的向量检索能力接口供内部调用。
*   敏感词过滤机制需生效于知识内容的展示和应用环节。
*   需支持知识的版本管理（至少能追溯原文版本）。
*   权限控制需落实到知识库级别或更细粒度。

**5.9 Agent 管理平台 (Module-Admin-AgentManagement)**

5.9.1 需求描述
提供对接入企业大脑平台的外部或内部构建的智能体（Agent）进行集中管理、配置、监控和维护的功能。确保Agent能够按预期安全、有效地运行，并调用平台提供的各项能力（如知识库、数据分析）。

5.9.2 业务流程
1.  管理员进入Agent管理平台。
2.  查看已注册/接入的Agent列表。
3.  点击“新增Agent”或选择现有Agent进行“编辑”或“查看详情”。
4.  配置Agent的基本信息（名称、描述、负责人、版本）。
5.  配置Agent可调用的工具/能力：
    *   勾选可访问的【知识库】（可指定具体的用户库或平台行业库）。
    *   勾选可使用的【数据分析能力】（可能基于标准指标体系）。
    *   配置可调用的【API接口】（内部或外部）。
    *   选择或配置其依赖的【大语言模型】。
6.  配置Agent的运行参数、触发方式（如API调用、定时任务）。
7.  设置Agent的权限（如哪些用户可以使用该Agent）。
8.  保存配置，启用/禁用Agent。
9.  监控Agent的运行日志、调用频率、成功率、消耗资源等。

5.9.3 页面原型
*   Agent列表页：
    *   表格展示：Agent ID、名称、版本、状态（启用/禁用/开发中）、类型（如问答型、分析型）、创建时间、负责人。
    *   提供搜索、筛选功能。
    *   操作按钮：查看详情、编辑、启用/禁用、删除。
    *   “新增Agent”按钮。
*   Agent配置/编辑页：
    *   基本信息表单。
    *   工具/能力配置区域：
        *   知识库选择器（多选，区分库类型）。
        *   数据能力选择器（勾选允许使用的分析能力或指标）。
        *   API配置列表（添加API地址、认证方式等）。
        *   大模型选择器。
    *   运行参数配置区域（如温度、最大Token数等）。
    *   权限配置区域（关联用户/角色）。
    *   “保存”、“启用/禁用”按钮。
*   Agent监控/日志页：
    *   展示Agent调用统计图表。
    *   提供详细的运行日志查询（包含输入、输出、调用的工具、耗时、是否成功等）。

5.9.4 业务规则
*   Agent ID需唯一。
*   必须能够精细化配置Agent可调用的工具和数据范围，确保权限隔离和安全。
*   Agent调用知识库时，需能明确区分并访问指定的用户私有库和/或平台公共/行业库。
*   Agent调用数据分析能力时，应基于【标准指标体系】进行，确保数据口径一致。
*   Agent的运行状态和关键操作（配置变更、启用禁用）需记录日志。
*   需提供监控机制，以便评估Agent性能和排查问题。

**5.10 帮助中心 (Module-Admin-HelpCenter)**

5.10.1 需求描述
提供一个集中的帮助与支持入口，包含预先准备的指导文档、常见问题解答（FAQ）、操作教程等，帮助后台管理员和前台用户更好地理解和使用平台功能。包含面向最终用户的前台展示界面和面向运营人员的后台管理界面。

5.10.2 业务流程 (面向最终用户)
1.  用户（后台管理员或前台用户，取决于帮助中心部署位置）访问帮助中心。
2.  通过搜索框查找内容。
3.  按功能模块或主题分类浏览内容。
4.  查看文章/FAQ详情。

5.10.3 页面原型 (后台管理部分)
*   内容管理列表：
    *   表格展示：文章/FAQ标题、所属分类/模块、状态（草稿/已发布）、创建/更新时间、作者。
    *   提供搜索、筛选（按分类、状态）功能。
    *   操作按钮：编辑、预览、发布/撤下、删除。
    *   “新增内容”按钮。
*   内容编辑界面：
    *   富文本编辑器，支持文本格式、图片插入、链接、代码块等。
    *   标题输入框。
    *   分类/标签选择器。
    *   关联功能模块选择器。
    *   “保存草稿”、“发布”按钮。
*   分类管理界面：
    *   管理帮助内容的分类层级结构（如按后台模块、按用户角色、按常见问题主题）。

5.10.4 业务规则 (后台管理部分)
*   需要支持创建和管理帮助内容的分类体系。
*   编辑器应易于使用，支持图文混排。
*   内容发布后才能在前台帮助中心可见。
*   支持内容的版本管理（可选，但推荐）。
*   后台管理功能需纳入RBAC权限控制。

---

**六 V2.0 优化总结**

企业大脑后台运营管理中心 V2.0 版本在 V1.0 的基础上，重点进行了以下优化和新增：

1.  **数据核心能力强化:** 引入了全新的【数据管理平台】，核心是建立【标准指标体系】和管理【数据模型】，并将其作为数据治理、分析和应用的基础，为企业大脑的标准化和智能化奠定数据基石。
2.  **知识管理与RAG支持:** 新增【知识管理平台】，提供从文档导入、自动化【向量化处理】到知识应用（支持RAG）的全流程管理，强化了企业大脑处理和利用非结构化知识的能力。
3.  **Agent生态支持:** 新增【Agent管理平台】，用于集中管理和配置接入的Agent，使其能安全、有效地调用平台的知识库、数据分析等核心能力。
4.  **服务与功能打通:** 优化了【订阅计划管理】，实现了服务套餐与平台具体功能模块的明确关联，使得商业化策略更清晰、权限控制更精确。
5.  **易用性提升:** 新增了【帮助中心】，为用户提供自助服务支持。
6.  **权限体系扩展:** 【角色与权限管理】已将新增模块纳入管控范围，确保系统安全可控。

这些更新旨在提升后台的运营效率、数据治理能力、知识应用水平和智能化支撑能力，更好地服务于企业大脑前台业务和平台的长期发展。

---
