# 企业大脑服务平台前端功能更新计划

根据PRD V4.0更新内容，本文档概述了前端页面的功能更新计划，确保所有新增需求能够在界面上得到准确实现。

## 一、搜索功能全面升级

根据PRD V4.0中"增强所有列表数据的搜索功能，提升数据查询和筛选效率"的要求，我们将对所有列表页面实现以下统一的搜索功能升级：

### 1. 通用搜索组件实现

在所有列表页面实现统一的搜索组件，包括：

- **基础搜索区**：
  - 搜索字段选择器（宽度120px）
  - 关键词输入框（占据中间主要空间）
  - 高级搜索切换按钮（宽度60px）
  - 快捷筛选标签（位于搜索框下方）

- **高级搜索区**：
  - 多维度筛选条件（日期范围、下拉选择等）
  - 排序选项下拉框
  - 功能按钮：重置、应用筛选、保存、导出

### 2. 各模块搜索功能增强

#### 2.1 Agent管理平台

- **智能体商城**：
  - 实现全局搜索框，支持按名称、描述、功能关键词搜索
  - 增加高级筛选条件（业务领域、功能类型、评分范围、适用场景、价格区间）
  - 添加排序选项（热度、评分、价格、上线时间）
  - 实现搜索结果高亮和搜索建议功能

- **已购智能体清单**：
  - 支持按智能体名称、版本号搜索
  - 增加高级筛选（购买时间范围、到期时间范围、状态、使用量区间）
  - 实现按到期时间、使用量等排序功能

- **Agent实例管理列表**：
  - 支持按实例名称、模板名称搜索
  - 实现高级筛选（类型、状态、创建时间范围、上次运行时间范围）
  - 添加按创建时间、运行状态排序功能

#### 2.2 数据管理平台

- **标准指标体系管理**：
  - 增强关键词搜索功能，支持按指标名称、编码、定义内容搜索
  - 实现多维度筛选（所属行业/业务域、指标类型、指标结构、计量单位、状态、负责人）
  - 支持多条件组合筛选
  - 增加结果导出功能和筛选条件保存功能

- **数据模型管理**：
  - 升级关键词搜索，支持按模型名称、编码、描述内容、字段名称搜索
  - 实现多维度筛选（模型类型、状态、业务域、创建时间范围、关联指标数范围）
  - 新增标签搜索和联动搜索功能
  - 支持按创建时间、名称、关联指标数排序

#### 2.3 知识管理平台

- **文档管理**：
  - 增强关键词搜索，支持按文档名称、内容关键词、标签搜索
  - 实现高级筛选（处理状态、上传时间范围、文件格式、文档分类、上传者）
  - 添加保存搜索功能，便于常用搜索条件重用

- **分类管理**：
  - 实现分类搜索框，支持按分类名称快速定位

#### 2.4 用户管理

- 优化关键词搜索功能，支持按用户ID、姓名/昵称、手机号、邮箱搜索，支持模糊匹配
- 增加精确搜索选项
- 完善高级筛选器功能
- 新增搜索历史记录和结果导出功能

#### 2.5 认证管理

- 增强关键词搜索功能，支持按企业名称、统一社会信用代码、用户标识搜索
- 实现组合搜索、时间筛选和行业筛选
- 添加搜索结果导出功能

#### 2.6 订阅计划管理

- 优化关键词搜索，支持按套餐ID、套餐名称、描述内容搜索
- 实现多维度筛选（类型、价格区间、状态、适用系统）
- 增加功能筛选，可按包含特定功能模块或权限的套餐进行筛选
- 添加视图切换功能（列表视图/卡片视图）

#### 2.7 订单管理

- 增强多维度搜索功能，支持按订单号、用户ID、用户名、手机号、企业名称、套餐名称搜索
- 完善筛选功能（时间、状态、金额区间）
- 实现视图切换（表格视图/图表统计视图）
- 添加导出功能，支持将筛选结果导出为Excel表格

#### 2.8 帮助中心

- 实现关键词搜索，支持按标题、内容关键词搜索
- 添加高级筛选功能（分类、状态、时间范围、作者）
- 支持多关键词组合搜索和精确匹配搜索

#### 2.9 角色与权限管理

- 增强角色搜索功能，支持按角色名称、描述内容搜索
- 实现权限搜索功能，可在树状结构中搜索特定权限点
- 优化管理员账号搜索，支持按用户名、姓名、角色组合条件搜索

## 二、Agent管理平台功能更新

### 1. 智能体商城新增

- 设计并实现智能体商城界面，包括：
  - 分类导航树（业务领域和功能类型）
  - 卡片式布局展示各智能体
  - 筛选区域和搜索功能
  - 智能体详情弹窗

### 2. 已购智能体清单功能

- 开发已购智能体清单界面：
  - 表格视图（名称、版本、时间信息、使用量/额度、状态）
  - 搜索和筛选功能
  - 分组展示视图
  - 智能体组合情况展示

### 3. Agent访问权限与分析配置

- 实现系统访问配置界面
- 设计权限矩阵展示
- 开发数据分析能力配置界面
- 实现资源限制设置

## 三、知识管理平台功能更新

### 1. 分类管理功能新增

- 设计并实现分类树视图
- 开发分类操作区（新增、编辑、删除按钮）
- 实现分类详情区
- 开发分类权限设置功能

### 2. 超出范围处理配置

- 设计并实现响应策略选择界面
- 开发通用模型配置部分
- 实现提示语配置和模板编辑器
- 设计测试区域，支持实时测试效果

## 四、订单管理功能优化

### 1. 线下转账功能增强

- 优化"录入线下转账"功能：
  - 企业信息部分（增加实时搜索匹配、格式校验）
  - 转账信息部分（完善字段和验证）
  - 套餐选择功能
  - 凭证上传功能（支持多格式）

### 2. 订单详情优化

- 增强订单详情页，明确显示：
  - 关联的用户信息（ID、用户名及企业名称）
  - 支付流水信息
  - 线下转账凭证查看链接
  - 订单日志（状态变更历史）

## 五、系统可用性增强

### 1. 仪表盘跳转逻辑优化

- 优化仪表盘各指标卡片的跳转逻辑：
  - 待审核企业卡片点击后跳转至认证管理页面并自动筛选出待审核列表
  - 本月订单数卡片点击后跳转至订单管理页面并筛选出本月订单
  - 月收入卡片点击后跳转至订单管理页面并筛选出本月已支付订单
  - 活跃Agent数卡片点击后跳转至Agent管理平台相关页面
  - 知识库状态卡片点击后跳转至知识管理平台

### 2. 统一界面规范

- 确保所有列表页面采用统一的搜索组件
- 统一布局结构，确保用户体验一致性：
  ```html
  <div class="header-actions">
    <div class="search-wrapper">
      <SearchComponent 
        :search-fields="searchFields"
        :filters="filters"
        :sort-options="sortOptions"
        :quick-filters="quickFilters"
        :enable-export="true"
        @search="handleSearch"
        @filter="handleFilter"
        @export="handleExport"
        @save-filter="handleSaveFilter"
        class="custom-search-component"
      />
    </div>
    <div class="action-wrapper">
      <a-button type="primary" class="add-button">
        <template #icon><PlusOutlined /></template>
        添加
      </a-button>
    </div>
  </div>
  ```
- 统一样式规范：
  ```css
  .header-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    
    .search-wrapper {
      width: 70%;
      max-width: 800px;
    }
    
    .action-wrapper {
      display: flex;
      justify-content: flex-end;
    }
  }

  .add-button {
    margin-left: 16px;
  }

  :deep(.custom-search-component) {
    width: 100%;
    
    .ant-input-group {
      display: flex;
      align-items: center;
    }
    
    .ant-input-search {
      width: 100%;
    }
    
    .ant-btn {
      height: 32px;
    }
  }
  ```

## 六、实施计划

1. **开发通用搜索组件**（2周）
   - 定义组件接口和事件
   - 实现基础搜索区和高级搜索区
   - 开发搜索相关数据处理逻辑

2. **Agent管理平台更新**（3周）
   - 智能体商城开发
   - 已购智能体清单实现
   - Agent实例管理列表搜索功能优化
   - 权限与分析配置界面开发

3. **知识管理平台更新**（2周）
   - 分类管理功能实现
   - 超出范围处理配置开发
   - 文档管理搜索功能增强

4. **其他模块搜索功能优化**（3周）
   - 数据管理平台
   - 用户管理
   - 认证管理
   - 订阅计划管理
   - 订单管理
   - 帮助中心
   - 角色与权限管理

5. **系统联调与优化**（2周）
   - 确保所有模块搜索功能正常工作
   - 优化仪表盘跳转逻辑
   - 统一界面规范和样式

总计预计开发周期：12周 